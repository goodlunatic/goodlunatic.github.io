<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>4G5G网络安全相关内容的研究 - ⚡Lunatic BLOG⚡</title><meta name=author content="Lunatic"><meta name=description content="4G5G网络安全相关内容的研究
"><meta name=keywords content='Research'><meta itemprop=name content="4G5G网络安全相关内容的研究"><meta itemprop=description content="4G5G网络安全相关内容的研究"><meta itemprop=datePublished content="2024-12-24T19:29:58+08:00"><meta itemprop=dateModified content="2024-12-24T19:29:58+08:00"><meta itemprop=wordCount content="1293"><meta itemprop=keywords content="Research"><meta property="og:url" content="https://goodlunatic.github.io/posts/342f304/"><meta property="og:site_name" content="⚡Lunatic BLOG⚡"><meta property="og:title" content="4G5G网络安全相关内容的研究"><meta property="og:description" content="4G5G网络安全相关内容的研究"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-24T19:29:58+08:00"><meta property="article:modified_time" content="2024-12-24T19:29:58+08:00"><meta property="article:tag" content="Research"><meta name=twitter:card content="summary"><meta name=twitter:title content="4G5G网络安全相关内容的研究"><meta name=twitter:description content="4G5G网络安全相关内容的研究"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://www.nssctf.cn/files/2024/4/28/7f130a1387.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical type=text/html href=https://goodlunatic.github.io/posts/342f304/ title="4G5G网络安全相关内容的研究 - ⚡Lunatic BLOG⚡"><link rel=prev type=text/html href=https://goodlunatic.github.io/posts/7bf9cb0/ title="2024 国城杯网络安全挑战赛 Misc Writeup"><link rel=next type=text/html href=https://goodlunatic.github.io/posts/69e332a/ title="2024 楚慧杯网络与数据安全实践能力竞赛 Misc Writeup"><link rel=alternate type=text/markdown href=https://goodlunatic.github.io/posts/342f304/index.md title="4G5G网络安全相关内容的研究 - ⚡Lunatic BLOG⚡"><link rel=stylesheet href=/css/config.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"4G5G网络安全相关内容的研究","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/goodlunatic.github.io\/posts\/342f304\/"},"genre":"posts","keywords":"Research","wordcount":1293,"url":"https:\/\/goodlunatic.github.io\/posts\/342f304\/","datePublished":"2024-12-24T19:29:58+08:00","dateModified":"2024-12-24T19:29:58+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Lunatic"},"description":""}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title="⚡Lunatic BLOG⚡"><span class=header-title-text>⚡Lunatic BLOG⚡</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/archives/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Archives</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/friends/><i class="fa-solid fa-chain fa-fw fa-sm" aria-hidden=true></i> Friends</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="⚡Lunatic BLOG⚡"><span class=header-title-text>⚡Lunatic BLOG⚡</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class=menu-item><a class=menu-link href=/archives/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Archives</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/friends/><i class="fa-solid fa-chain fa-fw fa-sm" aria-hidden=true></i> Friends</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=fi-container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=Collections></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>4G5G网络安全相关内容的研究</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://goodlunatic.github.io title=Author target=_blank rel="external nofollow noopener noreferrer author" class=author><img class=avatar src=https://www.nssctf.cn/files/2024/4/28/7f130a1387.png alt=Lunatic height=16 width=16>&nbsp;Lunatic</a></span><span class=post-included-in>&nbsp;included in <a href=/categories/research/ class=post-category title="Category - Research"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Research</a></span></div><div class=post-meta-line><span title="published on 2024-12-24 19:29:58"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2024-12-24>2024-12-24</time></span>&nbsp;<span title="1293 words"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>About 1300 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>7 minutes</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title=4G5G网络安全相关内容的研究><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;views
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#基础概念>基础概念</a></li><li><a href=#ubuntu2004配置uhd并连接b210>Ubuntu20.04配置UHD并连接B210</a></li><li><a href=#利用open5gs和srsran_project进行mib注入>利用open5gs和srsRAN_Project进行MIB注入</a></li></ul></nav></div></div><div class=content id=content><p><strong>4G5G网络安全相关内容的研究</strong></p><h2 class=heading-element id=基础概念><span>基础概念</span>
<a href=#%e5%9f%ba%e7%a1%80%e6%a6%82%e5%bf%b5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><table><thead><tr><th>概念名称</th><th>描述</th></tr></thead><tbody><tr><td>信令风暴</td><td>信令风暴（Signaling Storm）通常指的是在通信网络中，由于大量的控制信令（如呼叫建立、注册、认证等）快速且重复地传递，导致网络负载过重，系统资源耗尽，从而影响正常通信的情况。信令风暴最常见于电信网络中，尤其是在移动通信、VoIP（Voice over IP）系统、以及IMS（IP Multimedia Subsystem）等系统中。</td></tr><tr><td>SIB</td><td>SIB（System Information Block，系统信息块是移动通信网络中用于传输网络系统配置信息的一种数据结构，主要用于传递一些与网络状态和参数有关的重要信息。SIB通常用于LTE（Long Term Evolution）和5G NR（New Radio）等现代通信网络中。它的作用是帮助终端设备（如手机、物联网设备等）获取网络的基本配置信息，从而能够顺利连接网络并进行通信。</td></tr><tr><td>TAC</td><td>TAC（Tracking Area Code）：标识网络中的一个跟踪区域，用来管理和标识用户的位置信息。网络中由多个TAC组成，每个TAC代表一个物理区域，通常是多个基站的覆盖范围。</td></tr><tr><td>TAU</td><td>TAU（Tracking Area Update）：是指UE在移动过程中向网络更新其当前位置的一种过程。当UE移动到新的跟踪区域时，网络会触发TAU过程，以便更新UE的位置和所在的TAC。TAU过程主要用于定位和切换等目的，在一定时间内，UE会周期性地进行TAU过程。</td></tr><tr><td>UE</td><td>UE（User Equipment）：指的是用户的终端设备，如智能手机、物联网设备等，它们与基站进行通信。</td></tr><tr><td>IMSI</td><td>IMSI（International Mobile Subscriber Identity）是国际移动用户身份码，用于唯一标识一个移动设备的订阅者（即用户）。它是全球每个移动用户的唯一标识符，通常由移动运营商分配给用户，并保存在SIM卡（Subscriber Identity Module）中。前三位是移动国家代码，再来是移动网络代码（00-中国移动，01-中国联通），最后是移动用户识别码（长度一般为9-10位）</td></tr><tr><td>IMEI</td><td>IMEI（International Mobile Equipment Identity）是国际移动设备身份码，用于唯一标识一部移动设备。每部手机、平板电脑、物联网设备等无线通信设备都会有一个唯一的IMEI号码，用来区别不同的设备。前八位是设备类型分配代码TAC（前6位是厂商，后2位是设备型号），接着的6位表示设备的唯一序列号，最后1位是校验位，357123047913247</td></tr><tr><td>PDCCH</td><td>PDCCH是物理下行控制信道，用于传输下行链路控制信息。这些控制信息是网络发给用户设备（UE）的，用于调度、资源分配、信道状态信息反馈等。</td></tr><tr><td>PDSCH</td><td>PDSCH是物理下行共享信道，用于传输实际的用户数据、控制信息、系统信息等。这些数据可能是来自网络层的应用数据，也可以是一些重要的系统信息。</td></tr><tr><td></td><td></td></tr></tbody></table><p><img loading=lazy src=/posts/342f304/imgs/image-20241224195414397.png alt=/posts/342f304/imgs/image-20241224195414397.png height=1283 width=1972></p><p><img loading=lazy src=/posts/342f304/imgs/image-20241224195435668.png alt=/posts/342f304/imgs/image-20241224195435668.png height=531 width=831></p><h2 class=heading-element id=ubuntu2004配置uhd并连接b210><span>Ubuntu20.04配置UHD并连接B210</span>
<a href=#ubuntu2004%e9%85%8d%e7%bd%aeuhd%e5%b9%b6%e8%bf%9e%e6%8e%a5b210 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><blockquote><p>参考连接：</p><p><a href=https://kb.ettus.com/Building_and_Installing_the_USRP_Open-Source_Toolchain_%28UHD_and_GNU_Radio%29_on_Linux target=_blank rel="external nofollow noopener noreferrer">https://kb.ettus.com/Building_and_Installing_the_USRP_Open-Source_Toolchain_(UHD_and_GNU_Radio)_on_Linux</a></p></blockquote><p>先根据参考链接中的步骤安装好相关依赖</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>sudo</span> <span class=n>apt</span><span class=o>-</span><span class=n>get</span> <span class=o>-</span><span class=n>y</span> <span class=n>install</span> <span class=n>autoconf</span> <span class=n>automake</span> <span class=n>build</span><span class=o>-</span><span class=n>essential</span> <span class=n>ccache</span> <span class=n>cmake</span> <span class=n>cpufrequtils</span> <span class=n>doxygen</span> <span class=n>ethtool</span> <span class=n>fort77</span> <span class=n>g</span><span class=o>++</span> <span class=n>gir1</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>gtk</span><span class=o>-</span><span class=mf>3.0</span> <span class=n>git</span> <span class=n>gobject</span><span class=o>-</span><span class=n>introspection</span> <span class=n>gpsd</span> <span class=n>gpsd</span><span class=o>-</span><span class=n>clients</span> <span class=n>inetutils</span><span class=o>-</span><span class=n>tools</span> <span class=n>libasound2</span><span class=o>-</span><span class=n>dev</span> <span class=n>libboost</span><span class=o>-</span><span class=n>all</span><span class=o>-</span><span class=n>dev</span> <span class=n>libcomedi</span><span class=o>-</span><span class=n>dev</span> <span class=n>libcppunit</span><span class=o>-</span><span class=n>dev</span> <span class=n>libfftw3</span><span class=o>-</span><span class=n>bin</span> <span class=n>libfftw3</span><span class=o>-</span><span class=n>dev</span> <span class=n>libfftw3</span><span class=o>-</span><span class=n>doc</span> <span class=n>libfontconfig1</span><span class=o>-</span><span class=n>dev</span> <span class=n>libgmp</span><span class=o>-</span><span class=n>dev</span> <span class=n>libgps</span><span class=o>-</span><span class=n>dev</span> <span class=n>libgsl</span><span class=o>-</span><span class=n>dev</span> <span class=n>liblog4cpp5</span><span class=o>-</span><span class=n>dev</span> <span class=n>libncurses5</span> <span class=n>libncurses5</span><span class=o>-</span><span class=n>dev</span> <span class=n>libpulse</span><span class=o>-</span><span class=n>dev</span> <span class=n>libqt5opengl5</span><span class=o>-</span><span class=n>dev</span> <span class=n>libqwt</span><span class=o>-</span><span class=n>qt5</span><span class=o>-</span><span class=n>dev</span> <span class=n>libsdl1</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>dev</span> <span class=n>libtool</span> <span class=n>libudev</span><span class=o>-</span><span class=n>dev</span> <span class=n>libusb</span><span class=o>-</span><span class=mf>1.0</span><span class=o>-</span><span class=mi>0</span> <span class=n>libusb</span><span class=o>-</span><span class=mf>1.0</span><span class=o>-</span><span class=mi>0</span><span class=o>-</span><span class=n>dev</span> <span class=n>libusb</span><span class=o>-</span><span class=n>dev</span> <span class=n>libxi</span><span class=o>-</span><span class=n>dev</span> <span class=n>libxrender</span><span class=o>-</span><span class=n>dev</span> <span class=n>libzmq3</span><span class=o>-</span><span class=n>dev</span> <span class=n>libzmq5</span> <span class=n>ncurses</span><span class=o>-</span><span class=n>bin</span> <span class=n>python3</span><span class=o>-</span><span class=n>cheetah</span> <span class=n>python3</span><span class=o>-</span><span class=n>click</span> <span class=n>python3</span><span class=o>-</span><span class=n>click</span><span class=o>-</span><span class=n>plugins</span> <span class=n>python3</span><span class=o>-</span><span class=n>click</span><span class=o>-</span><span class=n>threading</span> <span class=n>python3</span><span class=o>-</span><span class=n>dev</span> <span class=n>python3</span><span class=o>-</span><span class=n>docutils</span> <span class=n>python3</span><span class=o>-</span><span class=n>gi</span> <span class=n>python3</span><span class=o>-</span><span class=n>gi</span><span class=o>-</span><span class=n>cairo</span> <span class=n>python3</span><span class=o>-</span><span class=n>gps</span> <span class=n>python3</span><span class=o>-</span><span class=n>lxml</span> <span class=n>python3</span><span class=o>-</span><span class=n>mako</span> <span class=n>python3</span><span class=o>-</span><span class=n>numpy</span> <span class=n>python3</span><span class=o>-</span><span class=n>numpy</span><span class=o>-</span><span class=n>dbg</span> <span class=n>python3</span><span class=o>-</span><span class=n>opengl</span> <span class=n>python3</span><span class=o>-</span><span class=n>pyqt5</span> <span class=n>python3</span><span class=o>-</span><span class=n>requests</span> <span class=n>python3</span><span class=o>-</span><span class=n>scipy</span> <span class=n>python3</span><span class=o>-</span><span class=n>setuptools</span> <span class=n>python3</span><span class=o>-</span><span class=n>six</span> <span class=n>python3</span><span class=o>-</span><span class=n>sphinx</span> <span class=n>python3</span><span class=o>-</span><span class=n>yaml</span> <span class=n>python3</span><span class=o>-</span><span class=n>zmq</span> <span class=n>python3</span><span class=o>-</span><span class=n>ruamel</span><span class=o>.</span><span class=n>yaml</span> <span class=n>swig</span> <span class=n>wget</span></span></span></code></pre></td></tr></table></div></div><p>然后从源码编译并安装UHD</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/EttusResearch/uhd.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> uhd/host
</span></span><span class=line><span class=cl>mkdir build
</span></span><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl>cmake ..
</span></span><span class=line><span class=cl>make
</span></span><span class=line><span class=cl>sudo make install
</span></span><span class=line><span class=cl>sudo ldconfig</span></span></code></pre></td></tr></table></div></div><blockquote><p>Tips：如果发现uhd4.7.0.0无法识别USRP设备，可以把uhd的版本降低为uhd4.6.0.0</p></blockquote><p>编译并安全好后需要把以下环境变量的内容添加到<code>.zshrc</code>文件中</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span>/usr/local/lib</span></span></code></pre></td></tr></table></div></div><p>UHD安装完成后我们还需要执行下面这个命令去下载<code>UHD FPGA Images</code>(可能需要科学上网)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo uhd_images_downloader</span></span></code></pre></td></tr></table></div></div><p>下载完成后我们需要把以下环境变量的内容添加到<code>.zshrc</code>文件中</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>UHD_IMAGES_DIR</span><span class=o>=</span><span class=s2>&#34;/usr/local/share/uhd/images&#34;</span></span></span></code></pre></td></tr></table></div></div><p>上述工作完成后，我们将B210用USB连上电脑，然后执行以下命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo uhd_usrp_probe
</span></span><span class=line><span class=cl>sudo uhd_find_devices</span></span></code></pre></td></tr></table></div></div><p>若输出类似于以下的内容，则说明环境配置成功，B210已经成功连接</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>(</span>base<span class=o>)</span> <span class=o>[</span>11ms<span class=o>][</span>~<span class=o>]</span>$ sudo uhd_usrp_probe
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>UHD<span class=o>]</span> linux<span class=p>;</span> GNU C++ version 9.4.0<span class=p>;</span> Boost_107100<span class=p>;</span> UHD_4.6.0.0-0-unknown
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Detected Device: B210
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Operating over USB 3.
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Initialize CODEC control...
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Initialize Radio control...
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Performing register loopback test... 
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Register loopback <span class=nb>test</span> passed
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Performing register loopback test... 
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Register loopback <span class=nb>test</span> passed
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Setting master clock rate selection to <span class=s1>&#39;automatic&#39;</span>.
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Asking <span class=k>for</span> clock rate 16.000000 MHz... 
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>B200<span class=o>]</span> Actually got clock rate 16.000000 MHz.
</span></span><span class=line><span class=cl>  _____________________________________________________
</span></span><span class=line><span class=cl> /
</span></span><span class=line><span class=cl><span class=p>|</span>       Device: B-Series Device
</span></span><span class=line><span class=cl><span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>       Mboard: B210
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   serial: 34414E4
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   name: MyB210
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   product: <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   revision: <span class=m>4</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   FW Version: 8.0
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   FPGA Version: 16.0
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   Time sources:  none, internal, external, gpsdo
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   Clock sources: internal, external, gpsdo
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   Sensors: ref_locked
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       RX DSP: <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: -8.000 to 8.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       RX DSP: <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: -8.000 to 8.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       RX Dboard: A
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       RX Frontend: A
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Name: FE-RX2
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Antennas: TX/RX, RX2
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Sensors: temp, rssi, lo_locked
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: 50.000 to 6000.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Gain range PGA: 0.0 to 76.0 step 1.0 dB
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Bandwidth range: 200000.0 to 56000000.0 step 0.0 Hz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Connection Type: IQ
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Uses LO offset: No
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       RX Frontend: B
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Name: FE-RX1
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Antennas: TX/RX, RX2
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Sensors: temp, rssi, lo_locked
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: 50.000 to 6000.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Gain range PGA: 0.0 to 76.0 step 1.0 dB
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Bandwidth range: 200000.0 to 56000000.0 step 0.0 Hz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Connection Type: IQ
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Uses LO offset: No
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       RX Codec: A
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Name: B210 RX dual ADC
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Gain Elements: None
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       TX DSP: <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: -8.000 to 8.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       TX DSP: <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: -8.000 to 8.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       TX Dboard: A
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       TX Frontend: A
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Name: FE-TX2
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Antennas: TX/RX
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Sensors: temp, lo_locked
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: 50.000 to 6000.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Gain range PGA: 0.0 to 89.8 step 0.2 dB
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Bandwidth range: 200000.0 to 56000000.0 step 0.0 Hz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Connection Type: IQ
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Uses LO offset: No
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       TX Frontend: B
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Name: FE-TX1
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Antennas: TX/RX
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Sensors: temp, lo_locked
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Freq range: 50.000 to 6000.000 MHz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Gain range PGA: 0.0 to 89.8 step 0.2 dB
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Bandwidth range: 200000.0 to 56000000.0 step 0.0 Hz
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Connection Type: IQ
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Uses LO offset: No
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>     _____________________________________________________
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>    /
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>       TX Codec: A
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Name: B210 TX dual DAC
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   <span class=p>|</span>   Gain Elements: None
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>(</span>base<span class=o>)</span> <span class=o>[</span>4.490s<span class=o>][</span>~<span class=o>]</span>$ sudo uhd_find_devices
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> <span class=o>[</span>UHD<span class=o>]</span> linux<span class=p>;</span> GNU C++ version 9.4.0<span class=p>;</span> Boost_107100<span class=p>;</span> UHD_4.6.0.0-0-unknown
</span></span><span class=line><span class=cl>--------------------------------------------------
</span></span><span class=line><span class=cl>-- UHD Device <span class=m>0</span>
</span></span><span class=line><span class=cl>--------------------------------------------------
</span></span><span class=line><span class=cl>Device Address:
</span></span><span class=line><span class=cl>    serial: 34414E4
</span></span><span class=line><span class=cl>    name: MyB210
</span></span><span class=line><span class=cl>    product: B210
</span></span><span class=line><span class=cl>    type: b200</span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=利用open5gs和srsran_project进行mib注入><span>利用open5gs和srsRAN_Project进行MIB注入</span>
<a href=#%e5%88%a9%e7%94%a8open5gs%e5%92%8csrsran_project%e8%bf%9b%e8%a1%8cmib%e6%b3%a8%e5%85%a5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><blockquote><p>参考连接：</p><p><a href=https://github.com/open5gs/open5gs target=_blank rel="external nofollow noopener noreferrer">https://github.com/open5gs/open5gs</a></p><p><a href=https://github.com/srsran/srsRAN_Project target=_blank rel="external nofollow noopener noreferrer">https://github.com/srsran/srsRAN_Project</a></p><p><a href=https://open5gs.org/open5gs/docs/guide/02-building-open5gs-from-sources/ target=_blank rel="external nofollow noopener noreferrer">https://open5gs.org/open5gs/docs/guide/02-building-open5gs-from-sources/</a></p><p><a href=https://docs.srsran.com/projects/project target=_blank rel="external nofollow noopener noreferrer">https://docs.srsran.com/projects/project</a></p></blockquote><p>首先跟着参考文档中的步骤安装<code>open5gs</code>(模拟核心网)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install gnupg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -fsSL https://pgp.mongodb.com/server-6.0.asc <span class=p>|</span> sudo gpg -o /usr/share/keyrings/mongodb-server-6.0.gpg --dearmor
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo apt install -y mongodb-org
</span></span><span class=line><span class=cl>sudo systemctl start mongod
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> mongod
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo ip tuntap add name ogstun mode tun
</span></span><span class=line><span class=cl>sudo ip addr add 10.45.0.1/16 dev ogstun
</span></span><span class=line><span class=cl>sudo ip addr add 2001:db8:cafe::1/48 dev ogstun
</span></span><span class=line><span class=cl>sudo ip link <span class=nb>set</span> ogstun up
</span></span><span class=line><span class=cl><span class=c1># 上面四条命令执行完后可能需要重启才会启用</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo apt install -y python3-pip python3-setuptools python3-wheel ninja-build build-essential flex bison git cmake libsctp-dev libgnutls28-dev libgcrypt-dev libssl-dev libidn11-dev libmongoc-dev libbson-dev libyaml-dev libnghttp2-dev libmicrohttpd-dev libcurl4-gnutls-dev libnghttp2-dev libtins-dev libtalloc-dev meson
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git clone https://github.com/open5gs/open5gs.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> open5gs
</span></span><span class=line><span class=cl>meson build --prefix<span class=o>=</span><span class=sb>`</span><span class=nb>pwd</span><span class=sb>`</span>/install
</span></span><span class=line><span class=cl>ninja -C build
</span></span><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl>ninja install</span></span></code></pre></td></tr></table></div></div><p>然后再安装<code>srsRAN_Project</code>(模拟基站)</p><p>这里编译源码需要<code>GCC11</code>以上的版本，然而Ubuntu默认是<code>GCC9</code></p><p>因此需要我们手动安装一下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo add-apt-repository ppa:ubuntu-toolchain-r/test
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt remove gcc-9 g++-9
</span></span><span class=line><span class=cl>sudo apt autoremove
</span></span><span class=line><span class=cl>sudo apt-get install gcc-11 g++-11
</span></span><span class=line><span class=cl>sudo ln -s /usr/bin/gcc-11 /usr/bin/gcc
</span></span><span class=line><span class=cl>sudo ln -s /usr/bin/g++-11 /usr/bin/g++</span></span></code></pre></td></tr></table></div></div><p>安装好<code>GCC11</code>后就可以继续<code>srsRAN</code>项目的编译安装了</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install cmake make gcc g++ pkg-config libfftw3-dev libmbedtls-dev libsctp-dev libyaml-cpp-dev libgtest-dev
</span></span><span class=line><span class=cl>git clone https://github.com/srsran/srsRAN_Project.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> srsRAN_Project
</span></span><span class=line><span class=cl>mkdir build
</span></span><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl><span class=c1># cmake这里需要带上后面的参数要不然会报错</span>
</span></span><span class=line><span class=cl>cmake ../ -DENABLE_EXPORT<span class=o>=</span>ON -DENABLE_ZEROMQ<span class=o>=</span>ON -DAUTO_DETECT_ISA<span class=o>=</span>OFF
</span></span><span class=line><span class=cl>make -j <span class=k>$(</span>nproc<span class=k>)</span></span></span></code></pre></td></tr></table></div></div><p>上面两个项目都安装好后我们就可以开始模拟了</p><p>首先是启动核心网</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl>sudo ./tests/app/5gc -c ./configs/sample.yaml</span></span></code></pre></td></tr></table></div></div><p>然后连上<code>B210</code>启动基站模拟，631和736代表的是模拟基站的编号，和所在的小区有关</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl>sudo ./apps/gnb/gnb -c ../configs/gnb_pci_631.yml
</span></span><span class=line><span class=cl>sudo ./apps/gnb/gnb -c ../configs/gnb_pci_736.yml</span></span></code></pre></td></tr></table></div></div><p>然后我们可以另起一个终端，把模拟的数据保存下来</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>uhd_rx_cfile --freq <span class=m>3408960000</span> -r <span class=m>23040000</span> --gain <span class=m>80</span> -N <span class=m>10000000</span> ./340896_632.fc32
</span></span><span class=line><span class=cl>uhd_rx_cfile --freq <span class=m>3509760000</span> -r <span class=m>23040000</span> --gain <span class=m>80</span> -N <span class=m>10000000</span> ./350976_737.fc32</span></span></code></pre></td></tr></table></div></div><p>保存的数据可以使用开源工具<a href=https://github.com/miek/inspectrum target=_blank rel="external nofollow noopener noreferrer">inspectrum</a> 查看</p><p>具体安装步骤如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install qt5-default libfftw3-dev cmake pkg-config libliquid-dev
</span></span><span class=line><span class=cl>git clone https://github.com/miek/inspectrum.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> inspectrum
</span></span><span class=line><span class=cl>mkdir build
</span></span><span class=line><span class=cl><span class=nb>cd</span> build
</span></span><span class=line><span class=cl>cmake ..
</span></span><span class=line><span class=cl>make -j4
</span></span><span class=line><span class=cl>sudo make install</span></span></code></pre></td></tr></table></div></div><p>用<code>inspectrum</code>打开之前保存的数据，即可看到实验效果</p><p><img loading=lazy src=/posts/342f304/imgs/image-20241224194914545.png alt=/posts/342f304/imgs/image-20241224194914545.png height=1485 width=3841></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2024-12-24 19:29:58">Updated on 2024-12-24&nbsp;</span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/342f304/index.md title="Read Markdown" class=link-to-markdown>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on X" data-sharer=twitter data-url=https://goodlunatic.github.io/posts/342f304/ data-title=4G5G网络安全相关内容的研究 data-hashtags=Research><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://goodlunatic.github.io/posts/342f304/ data-hashtag=Research><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://goodlunatic.github.io/posts/342f304/ data-title=4G5G网络安全相关内容的研究><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/research/ class=post-tag title="Tags - Research">Research</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/7bf9cb0/ class=post-nav-item rel=prev title="2024 国城杯网络安全挑战赛 Misc Writeup"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>2024 国城杯网络安全挑战赛 Misc Writeup</a><a href=/posts/69e332a/ class=post-nav-item rel=next title="2024 楚慧杯网络与数据安全实践能力竞赛 Misc Writeup">2024 楚慧杯网络与数据安全实践能力竞赛 Misc Writeup<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus class=comment><script src=https://giscus.app/client.js data-repo=goodlunatic/goodlunatic.github.io data-repo-id=R_kgDOQHqgBw data-category=Announcements data-category-id=DIC_kwDOQHqgB84Cw_4D data-mapping=pathname data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article><aside class=toc id=toc-auto aria-label=Contents><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line powered order-1">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.152.1">Hugo</a> | Theme - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.4.0-alpha.2-20251023040336-063af2cd">FixIt</a></div><div class="footer-line copyright order-2" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2025</span><span class=author itemprop=copyrightHolder>
<a href=https://goodlunatic.github.io target=_blank rel="external nofollow noopener noreferrer">Lunatic</a></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title='Total visitors'><i class="fa-regular fa-user fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title='Total visits'><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/goodlunatic title="Visit Lunatic's Github" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true" width="56" height="56"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentColor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>This website works best with JavaScript enabled.</div></noscript></div><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/cell-watermark/watermark.min.js defer></script><script src=https://vercount.one/js async defer></script><script src=/lib/pace/pace.min.js async defer></script><script src=/posts/342f304/config/page.js defer></script><script src=/js/theme.min.js defer></script></body></html>